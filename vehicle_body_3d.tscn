[gd_scene load_steps=7 format=3 uid="uid://crdo4eifiih"]

[ext_resource type="Script" uid="uid://d3lhsowxk84dx" path="res://addons/gevp/scripts/vehicle.gd" id="1_3wmsh"]
[ext_resource type="Script" uid="uid://d3jjrkwcto3jp" path="res://addons/gevp/scripts/wheel.gd" id="2_d41w2"]

[sub_resource type="Curve" id="Curve_uq1ss"]
_data = [Vector2(0.0221402, 0.441718), 0.0, 0.0, 0, 0, Vector2(0.431734, 0.940184), 0.0, 0.0, 0, 0, Vector2(0.944649, 0.431748), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="BoxShape3D" id="BoxShape3D_0xm2m"]
size = Vector3(1.3, 0.6, 0.6)

[sub_resource type="BoxMesh" id="BoxMesh_h2yge"]

[sub_resource type="CylinderMesh" id="CylinderMesh_1bvp3"]

[node name="VehicleBody3D" type="RigidBody3D" node_paths=PackedStringArray("front_left_wheel", "front_right_wheel", "rear_left_wheel", "rear_right_wheel")]
script = ExtResource("1_3wmsh")
front_left_wheel = NodePath("FrontLeftRayCast")
front_right_wheel = NodePath("FrontRightRayCast")
rear_left_wheel = NodePath("RearLeftRayCast")
rear_right_wheel = NodePath("RearRightRayCast")
steering_speed_decay = 0.07
max_steering_angle = 0.279253
stability_yaw_ground_multiplier = 6.0
max_torque = 4000.0
max_rpm = 4000.0
idle_rpm = 275.0
torque_curve = SubResource("Curve_uq1ss")
center_of_gravity_height_offset = -0.42
front_spring_length = 0.1
front_resting_ratio = 0.6
front_rebound_damp_multiplier = 2.0
rear_spring_length = 0.12
rear_damping_ratio = 0.6
rear_bump_damp_multiplier = 2.0
front_tire_radius = 0.35
rear_tire_radius = 0.35

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.9, 0, 0, 0, 0.9, 0, 0, 0, 0.9, 0, 0.5, 0)
shape = SubResource("BoxShape3D_0xm2m")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1.2, 0, 0, 0, 0.5, 0, 0, 0, 0.55, 0, 0.5, 0)
mesh = SubResource("BoxMesh_h2yge")

[node name="RearRightRayCast" type="RayCast3D" parent="." node_paths=PackedStringArray("wheel_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2, 0, 0.05)
script = ExtResource("2_d41w2")
wheel_node = NodePath("Node3D/MeshInstance3D3")

[node name="Node3D" type="Node3D" parent="RearRightRayCast"]

[node name="MeshInstance3D3" type="MeshInstance3D" parent="RearRightRayCast/Node3D"]
transform = Transform3D(-4.37114e-08, -5.88596e-09, 1, 1, -1.22392e-08, 4.37114e-08, 2.26902e-08, 0.145345, -2.10212e-08, 1.19209e-07, 0.5, 0)
mesh = SubResource("CylinderMesh_1bvp3")
skeleton = NodePath("")

[node name="RearLeftRayCast" type="RayCast3D" parent="." node_paths=PackedStringArray("wheel_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2, 0, -0.05)
script = ExtResource("2_d41w2")
wheel_node = NodePath("Node3D/MeshInstance3D3")

[node name="Node3D" type="Node3D" parent="RearLeftRayCast"]

[node name="MeshInstance3D3" type="MeshInstance3D" parent="RearLeftRayCast/Node3D"]
transform = Transform3D(-4.37114e-08, -5.88596e-09, 1, 1, -1.22392e-08, 4.37114e-08, 2.26902e-08, 0.145345, -2.10212e-08, 1.19209e-07, 0.5, 0)
mesh = SubResource("CylinderMesh_1bvp3")
skeleton = NodePath("")

[node name="FrontRightRayCast" type="RayCast3D" parent="." node_paths=PackedStringArray("wheel_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2, 0, 0.05)
script = ExtResource("2_d41w2")
wheel_node = NodePath("Node3D/MeshInstance3D2")

[node name="Node3D" type="Node3D" parent="FrontRightRayCast"]

[node name="MeshInstance3D2" type="MeshInstance3D" parent="FrontRightRayCast/Node3D"]
transform = Transform3D(-4.37114e-08, -5.88596e-09, 1, 1, -1.22392e-08, 4.37114e-08, 2.26902e-08, 0.145345, -2.10212e-08, 0, 0.5, 0)
mesh = SubResource("CylinderMesh_1bvp3")
skeleton = NodePath("")

[node name="FrontLeftRayCast" type="RayCast3D" parent="." node_paths=PackedStringArray("wheel_node")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2, 0, -0.05)
script = ExtResource("2_d41w2")
wheel_node = NodePath("Node3D/MeshInstance3D2")

[node name="Node3D" type="Node3D" parent="FrontLeftRayCast"]

[node name="MeshInstance3D2" type="MeshInstance3D" parent="FrontLeftRayCast/Node3D"]
transform = Transform3D(-4.37114e-08, -5.88596e-09, 1, 1, -1.22392e-08, 4.37114e-08, 2.26902e-08, 0.145345, -2.10212e-08, 0, 0.5, 0)
mesh = SubResource("CylinderMesh_1bvp3")
skeleton = NodePath("")
